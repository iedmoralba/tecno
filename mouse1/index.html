<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<title>InkScape</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

	<style type="text/css">
		*{margin:0; padding:0; box-sizing:border-box;}
		#lienzo{border:0px solid black; width:75%; height: 600px;margin: 0 auto; margin-top: 10px; }
		svg{border:0px solid black;}
	</style>
</head>
<body>
	
	<div id="lienzo">
		<svg id="svg8" version="1.1" viewBox="0 0 1024 600" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
		 <g id="layer1" transform="translate(0 8.8334)">
		   <image id="fondo" x="-24" y="-8.9292" width="1083" height="600.1" preserveAspectRatio="none" href=""/>
		 </g>
		 <g id="layer2">
		  <rect id="rect4532" x="823.26" y=".99997" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-9" x="720.6" y=".99997" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-4" x="617.93" y=".99997" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-7" x="515.26" y=".99997" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-47" x="412.6" y=".99997" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-2" x="309.93" y=".99997" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-6" x="207.26" y=".99997" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-25" x="104.6" y=".99997" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-40" x="1.9286" y=".99997" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-99" x="925.93" y=".99997" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-78" x="823.26" y="103" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-9-2" x="720.6" y="103" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-4-0" x="617.93" y="103" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-7-4" x="515.26" y="103" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-47-0" x="412.6" y="103" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-2-0" x="309.93" y="103" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-6-9" x="207.26" y="103" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-25-9" x="104.6" y="103" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-40-4" x="1.9286" y="103" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-99-3" x="925.93" y="103" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-63" x="823.26" y="205" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-9-3" x="720.6" y="205" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-4-1" x="617.93" y="205" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-7-9" x="515.26" y="205" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-47-6" x="412.6" y="205" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-2-9" x="309.93" y="205" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-6-6" x="207.26" y="205" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-25-4" x="104.6" y="205" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-40-6" x="1.9286" y="205" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-99-7" x="925.93" y="205" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-78-1" x="823.26" y="307" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-9-2-9" x="720.6" y="307" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-4-0-4" x="617.93" y="307" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-7-4-7" x="515.26" y="307" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-47-0-0" x="412.6" y="307" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-2-0-5" x="309.93" y="307" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-6-9-2" x="207.26" y="307" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-25-9-7" x="104.6" y="307" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-40-4-3" x="1.9286" y="307" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-99-3-7" x="925.93" y="307" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-22" x="823.26" y="409" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-9-23" x="720.6" y="409" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-4-00" x="617.93" y="409" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-7-2" x="515.26" y="409" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-47-2" x="412.6" y="409" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-2-93" x="309.93" y="409" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-6-2" x="207.26" y="409" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-25-7" x="104.6" y="409" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-40-5" x="1.9286" y="409" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-99-4" x="925.93" y="409" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-78-6" x="823.26" y="511" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-9-2-4" x="720.6" y="511" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-4-0-6" x="617.93" y="511" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-7-4-4" x="515.26" y="511" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-47-0-8" x="412.6" y="511" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-2-0-6" x="309.93" y="511" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-6-9-4" x="207.26" y="511" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-25-9-5" x="104.6" y="511" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-40-4-6" x="1.9286" y="511" width="100" height="100" style="fill:#37abc8"/>
		  <rect id="rect4532-99-3-2" x="925.93" y="511" width="100" height="100" style="fill:#37abc8"/>
		 </g>
		</svg>

	</div>

	<script type="text/javascript">
		var indice=0;
		var cuadros=0;
		var tocados=0;
		var imagen="";
		var cant_img=16;
		var imagenes=[];

		$(function(){
			llenarArray();
			desordenarImagenes();
			imagen=imagenes[indice];
			cuadros=$("rect").length;
			$("#fondo").attr("href",imagen);
			agregarEventoCuadros();
		});

		function llenarArray(){
			for(var i=1;i<=cant_img;i++){
				var a="img/img"+i+".png";
				imagenes.push(a);
			}
		}

		function desordenarImagenes(){
			/////
			imagenes = imagenes.sort(function() {return Math.random() - 0.5});
		}

		function agregarEventoCuadros(){
			$("rect").mouseover(function(){
				$(this).css("display","none");
				tocados++;
				if(tocados===cuadros){
					console.log("termino");
					setTimeout(function(){
						indice++;
						if(imagenes[indice]){
							$("rect").css("display","block");
							imagen=imagenes[indice];
							$("#fondo").attr("href",imagen);
						}else{
							$("rect").css("display","block");
							imagen="img/final.png";
							$("#fondo").attr("href",imagen);
						}
						tocados=0;
					},1500);
				}
			});
		}
		//un personaje como cursor y tiene que pasar como por un laberinto
		//tiene que esquivar unos cuadros rojos

	</script>

</body>
</html>